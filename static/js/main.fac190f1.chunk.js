(this.webpackJsonpkeeper=this.webpackJsonpkeeper||[]).push([[0],{10:function(e,t,n){e.exports={Form:"CreateArea_Form__Fk_GF",Input:"CreateArea_Input__K8Vu_",Input1:"CreateArea_Input1__3dLpg",Input2:"CreateArea_Input2__1vv7k",Hidden:"CreateArea_Hidden__2dUuM",PinButton:"CreateArea_PinButton__3sR5d",PinInactive:"CreateArea_PinInactive__18ZEE",PinActive:"CreateArea_PinActive__2qiJe",Buttons:"CreateArea_Buttons__1lXPn",Labels:"CreateArea_Labels__P1rrj",Label:"CreateArea_Label__3urtT",Button:"CreateArea_Button__1MFj-",LabelText:"CreateArea_LabelText__3wOIu",Checkbox:"CreateArea_Checkbox__3TwGB",Checkbox1:"CreateArea_Checkbox1__1EKz6",Button1:"CreateArea_Button1__Nhc-n",Button2:"CreateArea_Button2__2LlV6",white:"CreateArea_white__1LmfE",red:"CreateArea_red__2DrBf",orange:"CreateArea_orange__1ux3p",yellow:"CreateArea_yellow__27qHh",green:"CreateArea_green__1QfEM",turquoise:"CreateArea_turquoise__1OHSb",blue:"CreateArea_blue__1K8SX",darkblue:"CreateArea_darkblue__1gBEV",purple:"CreateArea_purple__1cLNX",pink:"CreateArea_pink__z8WNm"}},11:function(e,t,n){e.exports={Form:"EditArea_Form__502u3",Form1:"EditArea_Form1__2JfjU",Input:"EditArea_Input__1D-ps",Input1:"EditArea_Input1___eMjw",Input2:"EditArea_Input2__j-ncp",PinButton:"EditArea_PinButton__1KVRb",PinActive:"EditArea_PinActive__2iO2P",PinInactive:"EditArea_PinInactive__3h1ff",Buttons:"EditArea_Buttons__3OPh9",Labels:"EditArea_Labels__ZkARN",Label:"EditArea_Label__1xgCF",Button:"EditArea_Button__JL86x",LabelText:"EditArea_LabelText__3ZM4c",Checkbox:"EditArea_Checkbox__26e8r",Checkbox1:"EditArea_Checkbox1__2Nhv9",Button1:"EditArea_Button1__KkL6m",Button2:"EditArea_Button2__2eNw3",white:"EditArea_white__1aw8n",red:"EditArea_red__2Fojg",orange:"EditArea_orange__2YQTD",yellow:"EditArea_yellow__3mCDq",green:"EditArea_green__1_qW4",turquoise:"EditArea_turquoise__2oh_C",blue:"EditArea_blue__KdU9m",darkblue:"EditArea_darkblue__1cq0H",purple:"EditArea_purple__29roS",pink:"EditArea_pink__2Lz0i"}},120:function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__3VnxU",active:"NavigationItem_active__2eNnQ"}},121:function(e,t,n){e.exports={Screen:"Loading_Screen__2FpFE",loader:"Loading_loader__ziniC",spin:"Loading_spin__3eu0P"}},14:function(e,t,n){e.exports={header:"Header_header__3CX7O",Search:"Header_Search__3qLDW",RightButtons:"Header_RightButtons__33qgi",HamburgerMenu:"Header_HamburgerMenu__bbtQd",SearchButton:"Header_SearchButton__3bWG9",ClearButton:"Header_ClearButton__2OjKL",PaletteButton:"Header_PaletteButton__Pu02j",LogoutButton:"Header_LogoutButton__3TNCg",Logout:"Header_Logout__3wTzJ",Cloud:"Header_Cloud__LMIKL",Red:"Header_Red__388Ua",Loader:"Header_Loader__1Fc-j",spin:"Header_spin__Pnua8",white:"Header_white__2Sj4L",red:"Header_red__1Jnil",orange:"Header_orange__1Vqke",yellow:"Header_yellow__3MWbL",green:"Header_green__SVKyP",turquoise:"Header_turquoise__3HRGj",blue:"Header_blue__24w10",darkblue:"Header_darkblue__1t-TW",purple:"Header_purple__3uwoI",pink:"Header_pink__3hU2L",Keeper:"Header_Keeper__111yY"}},150:function(e,t,n){e.exports={Checkbox:"AddLabelItem_Checkbox__kqjGx"}},162:function(e,t,n){e.exports={NavigationItem:"EditLabelsNavItem_NavigationItem__3wyFx"}},17:function(e,t,n){e.exports={Note:"Note_Note__3VOQ9",white:"Note_white__2GGfC",red:"Note_red__3Ee9O",orange:"Note_orange__XtN6I",yellow:"Note_yellow__1XV3q",green:"Note_green__3MdUq",turquoise:"Note_turquoise__3YSyb",blue:"Note_blue__wKyYH",darkblue:"Note_darkblue__1PLXq",purple:"Note_purple__eqcMn",pink:"Note_pink__3956n",Hide:"Note_Hide__iE4xp",Title:"Note_Title__29Qq9",Labels:"Note_Labels__2mvhF",ButtonArea:"Note_ButtonArea__3-Xys",Label:"Note_Label__12gUw",Button:"Note_Button__8exPz",LabelText:"Note_LabelText__1oSp9",PinButton:"Note_PinButton__3l6mH",PinActive:"Note_PinActive__2fm-h",PinInactive:"Note_PinInactive__14eHr",RemainingLabels:"Note_RemainingLabels__1bjp_"}},177:function(e,t,n){},178:function(e,t,n){},29:function(e,t,n){e.exports={NotesPage:"NotesPage_NotesPage__3R1G7",Notes:"NotesPage_Notes__2uYKH",NotesWhenPinned:"NotesPage_NotesWhenPinned__3_Ndd",Empty:"NotesPage_Empty__1di4k",Icon:"NotesPage_Icon__2mA-i",Note:"NotesPage_Note__tMHbi",SearchResult:"NotesPage_SearchResult__3pc3r"}},305:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),i=n.n(c),r=n(19),l=n.n(r),o=(n(177),n(4)),s=n(7),u=(n(178),n(20)),d=n(163),b=n.n(d),j=n(5),h=n(12),O=n(335),f=n(71);n(182),n(184);f.a.initializeApp({apiKey:"AIzaSyDi0uayCnnkGfMi8c0bbuR4aBodusy_IeI",authDomain:"keeper-2de7a.firebaseapp.com",databaseURL:"https://keeper-2de7a-default-rtdb.firebaseio.com",projectId:"keeper-2de7a",storageBucket:"keeper-2de7a.appspot.com",messagingSenderId:"285902265326",appId:"1:285902265326:web:18a53bf30d8be418eb4cff"});f.a.database();var p=new f.a.auth.GoogleAuthProvider,x=function(){return{type:"SYNCING_START"}},_=function(){return{type:"SYNC_SUCCESS"}},v=function(){return{type:"SYNC_FAIL"}},m=function(e,t){if(e){var n=e.notes;return"trash"===t?n=e.trash:"archive"===t&&(n=e.archive),n?Object.values(n).map((function(e){var t=[];if(void 0!==e.labels&&(t=Object.values(e.labels)),"list"===e.type){var n=[],a=[];return void 0!==e.checked&&(n=Object.values(e.checked)),void 0!==e.unchecked&&(a=Object.values(e.unchecked)),Object(o.a)(Object(o.a)({},e),{},{labels:t,checked:n,unchecked:a})}return Object(o.a)(Object(o.a)({},e),{},{labels:t})})):[]}return[]},N=function(e,t,n,a,c,i){var r="/users/"+t().auth.uid;e(n()),i.database().ref(r).set(t().main).then((function(){e(a())})).catch((function(){e(c())}))},C=function(e){return function(t,n){t(function(e){return{type:"ADD",note:Object(o.a)(Object(o.a)({},e),{},{id:Object(O.a)(),type:"note"})}}(e)),N(t,n,x,_,v,f.a)}},g=function(e){return function(t,n){t(function(e){return{type:"DELETE",id:e}}(e)),N(t,n,x,_,v,f.a)}},k=function(e,t){return function(n,a){n(function(e,t){return{type:"EDIT",note:t,id:e}}(e,t)),N(n,a,x,_,v,f.a)}},y=function(e){return function(t,n){t(function(e){return{type:"ARCHIVE",note:e}}(e)),N(t,n,x,_,v,f.a)}},E=function(e){return function(t,n){t(function(e){return{type:"ARCHIVE_DIRECTLY",note:Object(o.a)(Object(o.a)({},e),{},{id:Object(O.a)()})}}(e)),N(t,n,x,_,v,f.a)}},L=function(e,t){return function(n,a){n(function(e,t){return{type:"EDIT_AND_ARCHIVE",oldNote:e,newNote:t}}(e,t)),N(n,a,x,_,v,f.a)}},A=function(e,t){return function(n,a){n(function(e,t){return{type:"EDIT_AND_UNARCHIVE",oldNote:e,newNote:t}}(e,t)),N(n,a,x,_,v,f.a)}},I=function(e){return function(t,n){t(function(e){return{type:"ADD_NEW_LABEL",label:e}}(e)),N(t,n,x,_,v,f.a)}},w=function(e){return function(t,n){t(function(e){return{type:"ADD_LIST",list:Object(o.a)(Object(o.a)({},e),{},{id:Object(O.a)()})}}(e)),N(t,n,x,_,v,f.a)}},T=n(10),S=n.n(T),P=n(39),B=n.n(P),R=n(118),H=n.n(R),D=n(336);var F=function(e){return Object(a.jsx)(D.a,{title:e.tooltipTitle,children:Object(a.jsx)("button",{type:"button",onClick:e.onClick,children:e.children})})},q=n(331),K=n(65),M=n.n(K),U=n(64),Y=n.n(U),z=n(43),G=n.n(z),W=n(153),V=n.n(W),X=n(151),J=n.n(X),Q=n(152),Z=n.n(Q),$=n(338),ee=n(328),te=n(95),ne=n.n(te),ae=n(150),ce=n.n(ae);var ie=function(e){var t=Object(c.useState)(e.label===e.filterLabel),n=Object(s.a)(t,2),i=n[0],r=n[1];return Object(c.useEffect)((function(){r(e.chosenLabels.includes(e.label))}),[e.chosenLabels,e.label]),Object(a.jsxs)("li",{onClick:function(){e.clickHandler(e.label,i),r((function(e){return!e}))},children:[Object(a.jsx)("div",{className:ce.a.Checkbox,children:i?Object(a.jsx)("i",{className:"far fa-check-square"}):Object(a.jsx)("i",{className:"far fa-square"})}),Object(a.jsx)("div",{style:{display:"inline-block",marginLeft:"25px",width:"85%",marginBottom:"6px",fontSize:"0.9em"},children:e.label})]},e.label)};var re=Object(h.b)((function(e){return{labels:e.main.labels}}),(function(e){return{addNewLabel:function(t){return e(I(t))}}}))((function(e){var t=Object(c.useState)(""),n=Object(s.a)(t,2),i=n[0],r=n[1],l=Object(c.useRef)(null);return Object(c.useEffect)((function(){l.current.focus()}),[]),Object(a.jsxs)("div",{className:ne.a.List,children:[Object(a.jsxs)("div",{className:ne.a.InputArea,children:[Object(a.jsx)("input",{ref:l,onKeyPress:function(t){"Enter"===t.key&&(e.addNewLabel(i),e.addNewChosenLabelHandler(i),r(""),l.current.focus())},className:ne.a.Input,autoComplete:"off",name:"label",placeholder:"Add label...",value:i,onChange:function(e){r(e.target.value)},maxLength:"40"})," ",Object(a.jsx)(F,{tooltipTitle:"Create new label",onClick:function(){e.addNewLabel(i),e.addNewChosenLabelHandler(i),r(""),l.current.focus()},children:Object(a.jsx)(B.a,{})})]}),Object(a.jsx)("ul",{children:e.labels.map((function(t){return Object(a.jsx)(ie,{label:t,clickHandler:e.clickHandler,filterLabel:e.filterLabel,chosenLabels:e.chosenLabels},t)}))})]})})),le=n(27),oe=n(44),se=n.n(oe),ue=n(32),de=n.n(ue),be=["white","orange","yellow","green","turquoise","blue","darkblue","purple","pink"],je=[de.a.white,de.a.orange,de.a.yellow,de.a.green,de.a.turquoise,de.a.blue,de.a.darkblue,de.a.purple,de.a.pink];var he=function(e){return Object(a.jsx)("div",{className:de.a.Frame,children:Object(a.jsx)("div",{style:{display:"flex-box",width:"103px"},children:be.map((function(t,n){return Object(a.jsx)(D.a,{title:t,children:Object(a.jsx)("div",{className:de.a.Button+" "+je[n],onClick:function(){return e.changeColorHandler(t)}})},t)}))})})},Oe=n(42),fe=n.n(Oe);function pe(e){switch(e){case"white":return S.a.white;case"orange":return S.a.orange;case"yellow":return S.a.yellow;case"green":return S.a.green;case"turquoise":return S.a.turquoise;case"blue":return S.a.blue;case"darkblue":return S.a.darkblue;case"purple":return S.a.purple;case"pink":return S.a.pink;default:return}}var xe=Object(h.b)((function(e){return{labels:e.main.labels,notes:e.main.notes}}),(function(e){return{addNote:function(t){return e(C(t))},archiveDirectly:function(t){return e(E(t))},addNewLabel:function(t){return e(I(t))},addList:function(t){return e(w(t))}}}))((function(e){var t=[];""!==e.filterLabel&&(t=[e.filterLabel]);var n=Object(c.useState)(""),r=Object(s.a)(n,2),l=r[0],o=r[1],u=Object(c.useState)(""),d=Object(s.a)(u,2),b=d[0],h=d[1],f=Object(c.useState)(!1),p=Object(s.a)(f,2),x=p[0],_=p[1],v=Object(c.useState)("white"),m=Object(s.a)(v,2),N=m[0],C=m[1],g=Object(c.useState)([]),k=Object(s.a)(g,2),y=k[0],E=k[1],L=Object(c.useState)([]),A=Object(s.a)(L,2),I=A[0],w=A[1],T=Object(c.useState)(t),P=Object(s.a)(T,2),R=P[0],D=P[1],K=Object(c.useState)(!1),U=Object(s.a)(K,2),z=U[0],W=U[1],X=Object(c.useState)(!1),Q=Object(s.a)(X,2),te=Q[0],ne=Q[1],ae=Object(c.useState)(!1),ce=Object(s.a)(ae,2),ie=ce[0],oe=ce[1],ue=Object(c.useState)(null),de=Object(s.a)(ue,2),be=de[0],je=de[1],Oe=Object(c.useState)(null),xe=Object(s.a)(Oe,2),_e=xe[0],ve=xe[1],me=Boolean(be),Ne=me?"simple-popper":void 0,Ce=Boolean(_e),ge=Ce?"simple-popperrr":void 0;function ke(e){e!==N&&C(e),Ae()}function ye(e){e.stopPropagation(),ve((function(t){return t?null:e.currentTarget})),je(null)}function Ee(){ve(null),Ce=!1}function Le(e){e.stopPropagation(),je((function(t){return t?null:e.currentTarget})),ve(null)}function Ae(){je(null),me=!1}var Ie=Object(c.useRef)(null),we=Object(c.useRef)(null);function Te(){_((function(e){return!e}))}function Se(e,t){D(t?function(t){return t.filter((function(t){return e!==t}))}:function(t){return[e].concat(Object(j.a)(t))})}function Pe(e){I.findIndex((function(t){return e.id===t.id}))>-1?(w((function(t){return t.filter((function(t){return t.id!==e.id}))})),E((function(t){return[e].concat(Object(j.a)(t))}))):(E((function(t){return t.filter((function(t){return t.id!==e.id}))})),w((function(t){return[].concat(Object(j.a)(t),[e])})))}function Be(e){""===e||R.includes(e)||D((function(t){return[e].concat(Object(j.a)(t))}))}function Re(e){D((function(t){return t.filter((function(t){return e!==t}))}))}function He(e){o(e.target.value)}function De(e){h(e.target.value)}function Fe(e,t,n){n?E((function(n){var a=Object(j.a)(n);return a[t]={item:e.target.value,id:n[t].id},a})):w((function(n){var a=Object(j.a)(n);return a[t]={item:e.target.value,id:n[t].id},a}))}function qe(){ne(!1),W(!0),oe(!0)}function Ke(){Ae(),Ee(),W(!1),ne(!1),oe(!1),o(""),h(""),C("white"),_(!1),D(t)}function Me(){if(te)e.addNote({type:"note",title:l,content:b,labels:R,pinned:x,color:N});else if(ie){var n=Object(j.a)(I);""!==b&&n.push({item:b,id:Object(O.a)()}),e.addList({type:"list",title:l,checked:y,unchecked:n,labels:R,pinned:x,color:N})}Ee(),Ae(),o(""),h(""),C("white"),_(!1),E([]),w([]),W(!1),ne(!1),oe(!1),D(t)}function Ue(){if(te)e.archiveDirectly({type:"note",title:l,content:b,labels:R,pinned:x,color:N});else if(ie){var n=Object(j.a)(I);""!==b&&n.push({item:b,id:Object(O.a)()}),e.archiveDirectly({type:"list",title:l,checked:y,unchecked:n,labels:R,pinned:x,color:N})}o(""),h(""),C("white"),_(!1),E([]),w([]),W(!1),ne(!1),oe(!1),D(t),Ae(),Ee()}function Ye(){o(""),_(!1),h(""),E([]),w([]),W(!1),ne(!1),oe(!1),D(t),Ae(),Ee()}function ze(e){"Enter"===e.key&&(Ie.current?Ie.current.focus():we.current&&we.current.focus())}function Ge(e){y.includes(e)?E((function(t){return t.filter((function(t){return t.id!==e.id}))})):w((function(t){return t.filter((function(t){return t.id!==e.id}))}))}function We(e){"Enter"===e.key&&we.current.focus()}Object(c.useEffect)((function(){Ie.current&&z&&Ie.current.focus(),we.current&&z&&we.current.focus()}),[ie,z]);var Ve=Object(a.jsxs)("div",{className:S.a.Form+" "+pe(N),children:[te||ie?Object(a.jsxs)("div",{style:{position:"relative"},children:[Object(a.jsx)("input",{className:S.a.Input2,onKeyPress:ze,autoComplete:"off",value:l,onChange:He,name:"title",placeholder:"Title"}),Object(a.jsx)("div",{className:S.a.PinButton,children:Object(a.jsx)(F,{tooltipTitle:"Pin note",onClick:Te,children:Object(a.jsx)("i",{className:"fas fa-thumbtack"+(x?" "+S.a.PinActive:" "+S.a.PinInactive)})})})]}):null,Object(a.jsxs)("div",{style:{width:"100%",display:"inline-block",position:"relative"},children:[Object(a.jsx)($.a,{rowsMax:16,ref:Ie,onClick:function(){z||(ne(!0),W(!0),oe(!1))},value:b,onChange:De,name:"content",placeholder:"Take a note...",rows:"1"}),Object(a.jsx)("div",{style:{display:"inline-block",position:"absolute",top:"10px",right:"5px"},className:te?S.a.Hidden:null,children:Object(a.jsx)(F,{tooltipTitle:"New List",onClick:qe,children:Object(a.jsx)(J.a,{})})})]}),te?Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("div",{className:S.a.Labels,children:R.map((function(e){return Object(a.jsxs)("div",{className:S.a.Label,children:[Object(a.jsx)(le.a,{to:"/label/"+e,children:Object(a.jsx)("div",{className:S.a.LabelText,children:e})}),Object(a.jsx)("div",{className:S.a.Button,children:Object(a.jsx)(F,{tooltipTitle:"Delete label",onClick:function(){return Re(e)},children:Object(a.jsx)("span",{className:"material-icons-outlined",style:{verticalAlign:"middle",display:"inline-block",fontSize:"15px"},children:"close"})})})]},e)}))}),Object(a.jsxs)("div",{className:S.a.Buttons,children:[Object(a.jsx)(F,{tooltipTitle:"Add Note",onClick:Me,children:Object(a.jsx)(H.a,{})}),Object(a.jsx)(F,{tooltipTitle:"Cancel",onClick:Ye,children:Object(a.jsx)(Y.a,{})}),Object(a.jsx)(F,{tooltipTitle:"Archive",onClick:Ue,children:Object(a.jsx)(fe.a,{})}),Object(a.jsx)(F,{tooltipTitle:"Add Labels",onClick:ye,children:Object(a.jsx)(G.a,{})}),Object(a.jsx)(F,{tooltipTitle:"Show checkboxes",onClick:qe,children:Object(a.jsx)(Z.a,{})}),Object(a.jsx)(F,{tooltipTitle:"Change Color",onClick:Le,children:Object(a.jsx)(se.a,{})})]}),Object(a.jsx)(q.a,{onClickAway:Ae,touchEvent:!1,children:Object(a.jsx)(ee.a,{id:Ne,open:me,anchorEl:be,children:Object(a.jsx)(he,{changeColorHandler:ke})})}),Object(a.jsx)(q.a,{onClickAway:Ee,touchEvent:!1,children:Object(a.jsx)(ee.a,{id:ge,open:Ce,anchorEl:_e,children:Object(a.jsx)(re,{chosenLabels:R,addNewChosenLabelHandler:Be,clickHandler:Se,filterLabel:e.filterLabel})})})]}):null]}),Xe=Object(a.jsxs)("div",{className:S.a.Form+" "+pe(N),children:[Object(a.jsxs)("div",{style:{position:"relative"},children:[Object(a.jsx)("input",{type:"text",className:S.a.Input2,onKeyPress:ze,autoComplete:"off",value:l,onChange:He,name:"title",placeholder:"Title"}),Object(a.jsx)("div",{className:S.a.PinButton,children:Object(a.jsx)(F,{tooltipTitle:"Pin note",onClick:Te,children:Object(a.jsx)("i",{className:"fas fa-thumbtack"+(x?" "+S.a.PinActive:" "+S.a.PinInactive)})})})]}),I.map((function(e,t){return Object(a.jsxs)("div",{style:{position:"relative"},children:[Object(a.jsx)("div",{className:S.a.Checkbox,onClick:function(){return Pe(e)},children:Object(a.jsx)("i",{className:"far fa-square"})}),Object(a.jsx)("input",{onKeyPress:We,autoComplete:"off",className:S.a.Input,value:e.item,onChange:function(e){return Fe(e,t,!1)},name:"content",placeholder:"Empty list item...",rows:"1"}),Object(a.jsx)("div",{className:S.a.Button2,children:Object(a.jsx)(F,{tooltipTitle:"Delete List Item",onClick:function(){return Ge(e)},children:Object(a.jsx)(M.a,{fontSize:"small"})})})]},e.id)})),y.length>0?Object(a.jsx)("hr",{}):null,y.map((function(e,t){return Object(a.jsxs)("div",{style:{position:"relative"},children:[Object(a.jsx)("div",{className:S.a.Checkbox,onClick:function(){return Pe(e)},children:Object(a.jsx)("i",{className:"far fa-check-square"})}),Object(a.jsx)("input",{onKeyPress:We,autoComplete:"off",style:""===e.item?null:{textDecoration:"line-through"},className:S.a.Input,value:e.item,onChange:function(e){return Fe(e,t,!0)},name:"content",placeholder:"Empty list item...",rows:"1"}),Object(a.jsx)("div",{className:S.a.Button2,children:Object(a.jsx)(F,{tooltipTitle:"Delete List Item",onClick:function(){return Ge(e)},children:Object(a.jsx)(M.a,{fontSize:"small"})})})]},e.id)})),Object(a.jsxs)("div",{style:{position:"relative"},children:[Object(a.jsx)("div",{className:S.a.Checkbox1,children:Object(a.jsx)("i",{className:"far fa-square",onClick:function(){""!==b&&(E((function(e){return[].concat(Object(j.a)(e),[{item:b,id:Object(O.a)()}])})),h("")),we.current.focus()}})}),Object(a.jsx)("input",{autoComplete:"off",className:S.a.Input1,ref:we,onKeyPress:function(e){"Enter"===e.key&&""!==b&&(w((function(e){return[].concat(Object(j.a)(e),[{item:b,id:Object(O.a)()}])})),h("")),we.current.focus()},value:b,onChange:De,name:"content",placeholder:"Add list item..."}),Object(a.jsx)("div",{className:S.a.Button1,children:Object(a.jsx)(F,{tooltipTitle:"Add list item",onClick:function(){""!==b&&(w((function(e){return[].concat(Object(j.a)(e),[{item:b,id:Object(O.a)()}])})),h("")),we.current.focus()},children:Object(a.jsx)(B.a,{})})})]}),Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("div",{className:S.a.Labels,children:R.map((function(e){return Object(a.jsxs)("div",{className:S.a.Label,children:[Object(a.jsx)(le.a,{to:"/label/"+e,children:Object(a.jsx)("div",{className:S.a.LabelText,children:e})}),Object(a.jsx)("div",{className:S.a.Button,children:Object(a.jsx)(F,{tooltipTitle:"Delete label",onClick:function(){return Re(e)},children:Object(a.jsx)("span",{className:"material-icons-outlined",style:{verticalAlign:"middle",display:"inline-block",fontSize:"15px"},children:"close"})})})]},e)}))}),Object(a.jsxs)("div",{className:S.a.Buttons,children:[Object(a.jsx)(F,{tooltipTitle:"Add Note",onClick:Me,children:Object(a.jsx)(H.a,{})}),Object(a.jsx)(F,{tooltipTitle:"Cancel",onClick:Ye,children:Object(a.jsx)(Y.a,{})}),Object(a.jsx)(F,{tooltipTitle:"Archive",onClick:Ue,children:Object(a.jsx)(fe.a,{})}),Object(a.jsx)(F,{tooltipTitle:"Add Labels",onClick:ye,children:Object(a.jsx)(G.a,{})}),Object(a.jsx)(F,{tooltipTitle:"Hide checkboxes",onClick:function(){ne(!0),oe(!1),w([]),E([])},children:Object(a.jsx)(V.a,{})}),Object(a.jsx)(F,{tooltipTitle:"Change Color",onClick:Le,children:Object(a.jsx)(se.a,{})})]}),Object(a.jsx)(q.a,{onClickAway:Ae,touchEvent:!1,children:Object(a.jsx)(ee.a,{id:Ne,open:me,anchorEl:be,children:Object(a.jsx)(he,{changeColorHandler:ke})})}),Object(a.jsx)(q.a,{onClickAway:Ee,touchEvent:!1,children:Object(a.jsx)(ee.a,{id:ge,open:Ce,anchorEl:_e,children:Object(a.jsx)(re,{chosenLabels:R,addNewChosenLabelHandler:Be,clickHandler:Se,filterLabel:e.filterLabel})})})]})]});return Object(a.jsx)(q.a,{onClickAway:function(){te?""===l&&""===b?Ke():Me():""===l&&0===y.length&&0===I.length&&""===b?Ke():Me()},children:ie?Xe:Ve})})),_e=n(11),ve=n.n(_e),me=n(119),Ne=n.n(me),Ce=n(74),ge=n.n(Ce);function ke(e){switch(e){case"white":return ve.a.white;case"orange":return ve.a.orange;case"yellow":return ve.a.yellow;case"green":return ve.a.green;case"turquoise":return ve.a.turquoise;case"blue":return ve.a.blue;case"darkblue":return ve.a.darkblue;case"purple":return ve.a.purple;case"pink":return ve.a.pink;default:return}}function ye(e,t){var n=Object(c.useState)(e.note.title),r=Object(s.a)(n,2),l=r[0],o=r[1],u=Object(c.useState)(e.note.content?e.note.content:""),d=Object(s.a)(u,2),b=d[0],h=d[1],f=Object(c.useState)(e.note.pinned),p=Object(s.a)(f,2),x=p[0],_=p[1],v=Object(c.useState)(e.note.checked?e.note.checked:[]),m=Object(s.a)(v,2),N=m[0],C=m[1],g=Object(c.useState)(e.note.unchecked?e.note.unchecked:[]),k=Object(s.a)(g,2),y=k[0],E=k[1],L=Object(c.useState)(null),A=Object(s.a)(L,2),I=A[0],w=A[1],T=Object(c.useState)(e.note.labels),S=Object(s.a)(T,2),P=S[0],R=S[1],H=Object(c.useState)(e.note.color),D=Object(s.a)(H,2),K=D[0],U=D[1],z=Object(c.useState)(null),W=Object(s.a)(z,2),V=W[0],X=W[1],J=Boolean(V),Q=J?"simple-popper":void 0,Z=Boolean(I),te=Z?"simple-popper1":void 0,ne=Object(c.useRef)(null),ae=e.archive.findIndex((function(t){return e.note.id===t.id}))>-1;function ce(e){e!==K&&U(e),oe()}function ie(e){e.stopPropagation(),X((function(t){return t?null:e.currentTarget})),w(null)}function oe(){X(null)}function ue(){if("note"===e.note.type)e.editNote(e.note.id,{title:l,content:b,id:e.note.id,labels:P,type:"note",pinned:x,color:K});else{var t=Object(j.a)(y);""!==b&&t.push({item:b,id:Object(O.a)()}),e.editNote(e.note.id,{title:l,checked:N,unchecked:t,id:e.note.id,labels:P,type:"list",pinned:x,color:K})}e.closeEdit()}function de(){if("note"===e.note.type)e.editAndArchive(e.note,{title:l,content:b,id:e.note.id,labels:P,type:"note",pinned:x,color:K});else{var t=Object(j.a)(y);""!==b&&t.push({item:b,id:Object(O.a)()}),e.editAndArchive(e.note,{title:l,checked:N,unchecked:t,id:e.note.id,labels:P,type:"list",pinned:x,color:K})}e.closeEdit()}function be(){if("note"===e.note.type)e.editAndUnarchive(e.note,{title:l,content:b,id:e.note.id,labels:P,type:"note",pinned:x,color:K});else{var t=Object(j.a)(y);""!==b&&t.push({item:b,id:Object(O.a)()}),e.editAndUnarchive(e.note,{title:l,checked:N,unchecked:t,id:e.note.id,labels:P,type:"list",pinned:x,color:K})}e.closeEdit()}function je(e){"Enter"===e.key&&ne.current.focus()}function Oe(e){e.stopPropagation(),w((function(t){return t?null:e.currentTarget})),X(null)}function pe(){Z&&w(null)}function xe(e){""===e||P.includes(e)||R((function(t){return[e].concat(Object(j.a)(t))}))}function _e(e){R((function(t){return t.filter((function(t){return e!==t}))}))}function me(e,t){R(t?function(t){return t.filter((function(t){return e!==t}))}:function(t){return[e].concat(Object(j.a)(t))})}function Ce(e){y.findIndex((function(t){return e.id===t.id}))>-1?(E((function(t){return t.filter((function(t){return t.id!==e.id}))})),C((function(t){return[e].concat(Object(j.a)(t))}))):(C((function(t){return t.filter((function(t){return t.id!==e.id}))})),E((function(t){return[].concat(Object(j.a)(t),[e])})))}function ye(e,t,n){n?C((function(n){var a=Object(j.a)(n);return a[t]={item:e.target.value,id:n[t].id},a})):E((function(n){var a=Object(j.a)(n);return a[t]={item:e.target.value,id:n[t].id},a}))}function Ee(e){o(e.target.value)}function Le(e){h(e.target.value)}function Ae(e){"Enter"===e.key&&ne.current.focus()}function Ie(e){N.includes(e)?C((function(t){return t.filter((function(t){return t.id!==e.id}))})):E((function(t){return t.filter((function(t){return t.id!==e.id}))}))}function we(){_((function(e){return!e}))}t.current=ue;var Te=Object(c.useRef)(null),Se=Object(a.jsxs)("div",{className:ve.a.Form1,ref:Te,children:[Object(a.jsxs)("div",{className:ve.a.Form+" "+ke(K),children:[Object(a.jsxs)("div",{style:{position:"relative"},children:[Object(a.jsx)("input",{type:"text",className:ve.a.Input2,value:l,onChange:Ee,onKeyPress:Ae,name:"title",placeholder:"Title",autoComplete:"Off"}),Object(a.jsx)("div",{className:ve.a.PinButton,children:Object(a.jsx)(F,{tooltipTitle:"Pin note",onClick:we,children:Object(a.jsx)("i",{className:"fas fa-thumbtack"+(x?" "+ve.a.PinActive:" "+ve.a.PinInactive)})})})]}),Object(a.jsx)("div",{style:{display:"inline-block",width:"100%",height:"100%"},children:Object(a.jsx)($.a,{rowsMax:8,ref:ne,value:b,onChange:Le,name:"content",placeholder:"Edit your note..."})}),Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("div",{className:ve.a.Labels,children:P.map((function(e){return Object(a.jsxs)("div",{className:ve.a.Label,children:[Object(a.jsx)(le.a,{to:"/label/"+e,children:Object(a.jsx)("div",{className:ve.a.LabelText,children:e})}),Object(a.jsx)("div",{className:ve.a.Button,children:Object(a.jsx)(F,{tooltipTitle:"Delete label",onClick:function(){return _e(e)},children:Object(a.jsx)("span",{className:"material-icons-outlined",style:{verticalAlign:"middle",display:"inline-block",fontSize:"15px"},children:"close"})})})]},e)}))}),Object(a.jsxs)("div",{className:ve.a.Buttons,children:[Object(a.jsx)(F,{tooltipTitle:"Confirm changes",onClick:ue,children:Object(a.jsx)(Ne.a,{})}),Object(a.jsx)(F,{tooltipTitle:"Cancel",onClick:e.closeEdit,children:Object(a.jsx)(Y.a,{})}),ae?Object(a.jsx)(F,{tooltipTitle:"unarchive",onClick:be,children:Object(a.jsx)(ge.a,{})}):Object(a.jsx)(F,{tooltipTitle:"Archive",onClick:de,children:Object(a.jsx)(fe.a,{})}),Object(a.jsx)(F,{tooltipTitle:"Edit Labels",onClick:Oe,children:Object(a.jsx)(G.a,{})}),Object(a.jsx)(F,{tooltipTitle:"Change Color",onClick:ie,children:Object(a.jsx)(se.a,{})})]})]})]}),Object(a.jsx)(q.a,{onClickAway:pe,touchEvent:!1,children:Object(a.jsx)(ee.a,{style:{zIndex:"500"},id:te,open:Z,anchorEl:I,modifiers:{preventOverflow:{escapeWithReference:!1}},disablePortal:!0,children:Object(a.jsx)(re,{chosenLabels:P,addNewChosenLabelHandler:xe,clickHandler:me,filterLabel:e.filterLabel})})}),Object(a.jsx)(q.a,{onClickAway:oe,touchEvent:!1,children:Object(a.jsx)(ee.a,{id:Q,open:J,anchorEl:V,disablePortal:!0,children:Object(a.jsx)(he,{changeColorHandler:ce})})})]}),Pe=Object(a.jsxs)("div",{className:ve.a.Form+" "+ke(K),children:[Object(a.jsxs)("div",{style:{position:"relative"},children:[Object(a.jsx)("input",{type:"text",className:ve.a.Input2,onKeyPress:Ae,autoComplete:"off",value:l,onChange:Ee,name:"title",placeholder:"Title"}),Object(a.jsx)("div",{className:ve.a.PinButton,children:Object(a.jsx)(F,{tooltipTitle:"Pin note",onClick:we,children:Object(a.jsx)("i",{className:"fas fa-thumbtack"+(x?" "+ve.a.PinActive:" "+ve.a.PinInactive)})})})]}),Object(a.jsxs)("div",{style:{overflowY:"auto",maxHeight:"315px",display:"inline-block",width:"100%"},children:[y.map((function(e,t){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:ve.a.Checkbox,onClick:function(){return Ce(e)},children:Object(a.jsx)("i",{className:"far fa-square"})}),Object(a.jsx)("input",{type:"text",onKeyPress:je,autoComplete:"off",className:ve.a.Input,value:e.item,onChange:function(e){return ye(e,t,!1)},name:"content",placeholder:"Empty list item...",rows:"1"}),Object(a.jsx)("div",{className:ve.a.Button2,children:Object(a.jsx)(F,{tooltipTitle:"Delete List Item",onClick:function(){return Ie(e)},children:Object(a.jsx)(M.a,{fontSize:"small"})})})]},e.id)})),N.length>0?Object(a.jsx)("hr",{}):null,N.map((function(e,t){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:ve.a.Checkbox,onClick:function(){return Ce(e)},children:Object(a.jsx)("i",{className:"far fa-check-square"})}),Object(a.jsx)("input",{type:"text",onKeyPress:je,autoComplete:"off",style:""===e.item?null:{textDecoration:"line-through"},className:ve.a.Input,value:e.item,onChange:function(e){return ye(e,t,!0)},name:"content",placeholder:"Empty list item...",rows:"1"}),Object(a.jsx)("div",{className:ve.a.Button2,children:Object(a.jsx)(F,{tooltipTitle:"Delete List Item",onClick:function(){return Ie(e)},children:Object(a.jsx)(M.a,{fontSize:"small"})})})]},e.id)}))]}),Object(a.jsxs)("div",{style:{position:"relative"},children:[Object(a.jsx)("div",{className:ve.a.Checkbox1,children:Object(a.jsx)("i",{className:"far fa-square",onClick:function(){""!==b&&(C((function(e){return[].concat(Object(j.a)(e),[{item:b,id:Object(O.a)()}])})),h("")),ne.current.focus()}})}),Object(a.jsx)("input",{type:"text",autoComplete:"off",className:ve.a.Input1,ref:ne,onKeyPress:function(e){"Enter"===e.key&&""!==b&&(E((function(e){return[].concat(Object(j.a)(e),[{item:b,id:Object(O.a)()}])})),h("")),ne.current.focus()},value:b,onChange:Le,name:"content",placeholder:"Add list item..."}),Object(a.jsx)("div",{className:ve.a.Button1,children:Object(a.jsx)(F,{tooltipTitle:"Add list item",onClick:function(){""!==b&&(E((function(e){return[].concat(Object(j.a)(e),[{item:b,id:Object(O.a)()}])})),h("")),ne.current.focus()},children:Object(a.jsx)(B.a,{})})})]}),Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("div",{className:ve.a.Labels,children:P.map((function(e){return Object(a.jsxs)("div",{className:ve.a.Label,children:[Object(a.jsx)(le.a,{to:"/label/"+e,children:Object(a.jsx)("div",{className:ve.a.LabelText,children:e})}),Object(a.jsx)("div",{className:ve.a.Button,children:Object(a.jsx)(F,{tooltipTitle:"Delete label",onClick:function(){return _e(e)},children:Object(a.jsx)("span",{className:"material-icons-outlined",style:{verticalAlign:"middle",display:"inline-block",fontSize:"15px"},children:"close"})})})]},e)}))}),Object(a.jsxs)("div",{className:ve.a.Buttons,children:[Object(a.jsx)(F,{tooltipTitle:"Confirm Edit",onClick:ue,children:Object(a.jsx)(Ne.a,{})}),Object(a.jsx)(F,{tooltipTitle:"Cancel",onClick:e.closeEdit,children:Object(a.jsx)(Y.a,{})}),ae?Object(a.jsx)(F,{tooltipTitle:"unarchive",onClick:be,children:Object(a.jsx)(ge.a,{})}):Object(a.jsx)(F,{tooltipTitle:"Archive",onClick:de,children:Object(a.jsx)(fe.a,{})}),Object(a.jsx)(F,{tooltipTitle:"Add Labels",onClick:Oe,children:Object(a.jsx)(G.a,{})}),Object(a.jsx)(F,{tooltipTitle:"Change Color",onClick:ie,children:Object(a.jsx)(se.a,{})})]})]}),Object(a.jsx)(q.a,{onClickAway:pe,touchEvent:!1,children:Object(a.jsx)(ee.a,{style:{zIndex:"500"},id:te,open:Z,anchorEl:I,modifiers:{preventOverflow:{escapeWithReference:!1}},disablePortal:!0,children:Object(a.jsx)(re,{chosenLabels:P,addNewChosenLabelHandler:xe,clickHandler:me,filterLabel:e.filterLabel})})}),Object(a.jsx)(q.a,{onClickAway:oe,touchEvent:!1,children:Object(a.jsx)(ee.a,{id:Q,open:J,anchorEl:V,disablePortal:!0,children:Object(a.jsx)(he,{changeColorHandler:ce})})})]});return Object(a.jsx)("div",{children:"note"===e.note.type?Se:Pe})}var Ee=i.a.forwardRef(ye),Le=n(17),Ae=n.n(Le),Ie=n(154),we=n.n(Ie),Te=n(93),Se=n.n(Te),Pe=n(155),Be=n.n(Pe),Re=n(92),He=n.n(Re),De=n(75),Fe=n.n(De);var qe=Object(h.b)(null,(function(e){return{editNote:function(t,n){return e(k(t,n))}}}))((function(e){return Object(a.jsxs)("li",{children:[Object(a.jsx)("div",{className:e.editable?Fe.a.Editable+" "+Fe.a.Checkbox:Fe.a.NotEditable+" "+Fe.a.Checkbox,onClick:e.editable?function(t){t.stopPropagation();var n=Object(j.a)(e.list.checked),a=Object(j.a)(e.list.unchecked);e.checked?(n=n.filter((function(t){return t.id!==e.item.id})),a=[].concat(Object(j.a)(a),[Object(o.a)({},e.item)])):(a=a.filter((function(t){return t.id!==e.item.id})),n=[Object(o.a)({},e.item)].concat(Object(j.a)(n)));var c=Object(o.a)(Object(o.a)({},e.list),{},{checked:n,unchecked:a});e.editNote(e.list.id,c)}:null,children:e.checked?Object(a.jsx)("i",{className:"far fa-check-square"}):Object(a.jsx)("i",{className:"far fa-square"})}),Object(a.jsx)("div",{style:{textDecoration:e.checked?"line-through":"default",display:"inline-block",marginLeft:"21px",width:"82%",marginBottom:"5px"},children:e.item.item})]})}));var Ke=Object(h.b)(null,(function(e){return{editNote:function(t,n){return e(k(t,n))},archiveNote:function(t){return e(y(t))},unarchiveNote:function(t){return e(function(e){return function(t,n){t(function(e){return{type:"UNARCHIVE",note:e}}(e)),N(t,n,x,_,v,f.a)}}(t))}}}))((function(e){var t=Object(c.useState)(null),n=Object(s.a)(t,2),i=n[0],r=n[1],l=Boolean(i),u=l?"simple-popper":void 0,d=Object(c.useState)(null),b=Object(s.a)(d,2),h=b[0],O=b[1],f=Boolean(h),p=f?"simple-popper":void 0;function x(){l&&r(null)}var _=function(e){switch(e){case"white":return Ae.a.white;case"orange":return Ae.a.orange;case"yellow":return Ae.a.yellow;case"green":return Ae.a.green;case"turquoise":return Ae.a.turquoise;case"blue":return Ae.a.blue;case"darkblue":return Ae.a.darkblue;case"purple":return Ae.a.purple;case"pink":return Ae.a.pink;default:return}}(e.note.color),v=null;return e.editable&&!e.archived?v=Object(a.jsx)(D.a,{title:"Archive",children:Object(a.jsx)("button",{type:"button",onClick:function(t){return t.stopPropagation(),e.archiveNote(e.note)},children:Object(a.jsx)(fe.a,{})})}):e.editable&&e.archived&&(v=Object(a.jsx)(D.a,{title:"Unarchive",children:Object(a.jsx)("button",{type:"button",onClick:function(t){return t.stopPropagation(),e.unarchiveNote(e.note)},children:Object(a.jsx)(ge.a,{})})})),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:Ae.a.Note+" "+_+" "+(e.editing&&e.editedId===e.note.id?Ae.a.Hide:""),onClick:e.showEditButton?function(){return e.onClick(e.note.id)}:null,children:[Object(a.jsxs)("div",{style:{position:"relative",width:"100%",display:"inline-block",wordWrap:"break-word"},children:[Object(a.jsxs)("div",{style:{display:"inline-block",wordWrap:"break-word",width:"100%"},children:[Object(a.jsx)("p",{className:Ae.a.Title,style:{maxWidth:"85%"},children:e.note.title}),"note"===e.note.type?Object(a.jsxs)("div",{style:{width:"85%"},children:[Object(a.jsx)("p",{children:e.note.content}),""===e.note.title&&""===e.note.content?Object(a.jsx)("p",{style:{color:"gray"},children:"Empty note"}):null]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("ul",{children:e.note.unchecked.map((function(t){return Object(a.jsx)(qe,{editable:e.editable,item:t,checked:!1,list:e.note},t.id)}))}),(e.note.checked.length>0&&e.note.unchecked.length)>0?Object(a.jsx)("hr",{}):null,Object(a.jsx)("ul",{children:e.note.checked.map((function(t){return Object(a.jsx)(qe,{editable:e.editable,item:t,checked:!0,list:e.note},t.id)}))})]})]}),Object(a.jsx)("div",{className:Ae.a.PinButton+(e.editable?"":" "+Ae.a.Hide),children:Object(a.jsx)(F,{tooltipTitle:"Pin note",onClick:function(t){t.stopPropagation();var n=Object(o.a)(Object(o.a)({},e.note),{},{pinned:!e.note.pinned});e.editNote(e.note.id,n)},disabled:!e.editable,children:Object(a.jsx)("i",{className:"fas fa-thumbtack"+(e.note.pinned?" "+Ae.a.PinActive:" "+Ae.a.PinInactive)})})})]}),Object(a.jsxs)("div",{className:Ae.a.Labels,children:[e.note.labels.slice(0,3).map((function(t){return Object(a.jsxs)("div",{className:Ae.a.Label,children:[Object(a.jsx)(le.a,{to:"/label/"+t,children:Object(a.jsx)("span",{className:Ae.a.LabelText,children:t})}),Object(a.jsx)("div",{className:Ae.a.Button,children:Object(a.jsx)(F,{tooltipTitle:"Delete label",onClick:function(n){return n.stopPropagation(),function(t){var n=e.note.labels.filter((function(e){return e!==t}));e.editNote(e.note.id,Object(o.a)(Object(o.a)({},e.note),{},{labels:n}))}(t)},children:Object(a.jsx)("span",{className:"material-icons-outlined",style:{verticalAlign:"middle",display:"inline-block",fontSize:"15px"},children:"close"})})})]},t)})),e.note.labels.length>3?Object(a.jsx)("div",{className:Ae.a.RemainingLabels,children:Object(a.jsx)("span",{style:{fontSize:"15px"},children:"+"+(e.note.labels.length-3)})}):null]}),Object(a.jsxs)("div",{className:Ae.a.ButtonArea,children:[Object(a.jsx)("div",{style:{width:e.editable?"50px":"145px"}}),e.editable?Object(a.jsx)(D.a,{title:"Change color",children:Object(a.jsx)("button",{type:"button",onClick:function(e){e.stopPropagation(),r((function(t){return t?null:e.currentTarget})),O(null)},children:Object(a.jsx)(se.a,{})})}):null,e.editable?Object(a.jsx)(D.a,{title:"Edit Labels",children:Object(a.jsx)("button",{type:"button",onClick:function(e){e.stopPropagation(),O((function(t){return t?null:e.currentTarget})),r(null)},children:Object(a.jsx)(G.a,{})})}):null,v,Object(a.jsx)(F,{tooltipTitle:e.deleteTooltip,onClick:function(t){return t.stopPropagation(),e.deleteNote(e.note.id)},children:e.showEditButton?Object(a.jsx)(we.a,{}):Object(a.jsx)(He.a,{})}),e.showEditButton?Object(a.jsx)(F,{tooltipTitle:"Edit",onClick:function(){return e.onClick(e.index)},children:Object(a.jsx)(Se.a,{})}):Object(a.jsx)(F,{tooltipTitle:"Restore",onClick:function(){return e.restoreNote(e.note.id)},children:Object(a.jsx)(Be.a,{})})]})]}),Object(a.jsx)(q.a,{onClickAway:x,touchEvent:!1,children:Object(a.jsx)(ee.a,{id:u,open:l,anchorEl:i,children:Object(a.jsx)(he,{changeColorHandler:function(t){if(t!==e.note.color){var n=Object(o.a)(Object(o.a)({},e.note),{},{color:t});e.editNote(e.note.id,n)}x()}})})}),Object(a.jsx)(q.a,{onClickAway:function(){f&&O(null)},touchEvent:!1,children:Object(a.jsx)(ee.a,{style:{zIndex:"500"},id:p,open:f,anchorEl:h,children:Object(a.jsx)(re,{chosenLabels:e.note.labels,addNewChosenLabelHandler:function(t){""===t||e.note.labels.includes(t)||e.editNote(e.note.id,Object(o.a)(Object(o.a)({},e.note),{},{labels:[t].concat(Object(j.a)(e.note.labels))}))},clickHandler:function(t,n){n?e.editNote(e.note.id,Object(o.a)(Object(o.a)({},e.note),{},{labels:e.note.labels.filter((function(e){return t!==e}))})):e.editNote(e.note.id,Object(o.a)(Object(o.a)({},e.note),{},{labels:[t].concat(Object(j.a)(e.note.labels))}))},filterLabel:e.filterLabel})})})]})})),Me=n(45),Ue=n.n(Me),Ye=n(29),ze=n.n(Ye),Ge=n(96);var We=function(e,t,n,a){return 0===e.length?[]:e.filter((function(e){var c,i=""===t||e.labels.includes(t),r=!1,l=Object(Ge.a)(e.labels);try{for(l.s();!(c=l.n()).done;){if(c.value.toLowerCase().includes(n.toLowerCase())){r=!0;break}}}catch(O){l.e(O)}finally{l.f()}var o=!1;if("note"===e.type)o=e.content.toLowerCase().includes(n.toLowerCase());else{var s,u=Object(Ge.a)(e.checked);try{for(u.s();!(s=u.n()).done;){if(s.value.item.toLowerCase().includes(n.toLowerCase())){o=!0;break}}}catch(O){u.e(O)}finally{u.f()}var d,b=Object(Ge.a)(e.unchecked);try{for(b.s();!(d=b.n()).done;){if(d.value.item.toLowerCase().includes(n.toLowerCase())){o=!0;break}}}catch(O){b.e(O)}finally{b.f()}}var j=e.title.toLowerCase().includes(n.toLowerCase())||o||r,h=""===a||e.color===a;return i&&j&&h}))},Ve=n(14),Xe=n.n(Ve),Je=n(159),Qe=n.n(Je),Ze=n(161),$e=n.n(Ze),et=n(156),tt=n.n(et),nt=function(e){return{type:"SET_FILTER_TEXT",filterText:e}},at=function(e){return{type:"SET_FILTER_COLOR",filterColor:e}},ct=n(160),it=n.n(ct),rt=n(158),lt=n.n(rt),ot=n(157),st=n.n(ot);function ut(e){switch(e){case"white":return Xe.a.white;case"orange":return Xe.a.orange;case"yellow":return Xe.a.yellow;case"green":return Xe.a.green;case"turquoise":return Xe.a.turquoise;case"blue":return Xe.a.blue;case"darkblue":return Xe.a.darkblue;case"purple":return Xe.a.purple;case"pink":return Xe.a.pink;default:return}}var dt=Object(h.b)((function(e){return{text:e.filters.filterText,color:e.filters.filterColor,sidebarOpen:e.ui.sidebarOpenMobile,syncStatus:e.ui.syncStatus,uid:e.auth.uid,main:e.main}}),(function(e){return{setFilterText:function(t){return e(nt(t))},setFilterColor:function(t){return e(at(t))},openSidebar:function(){return e({type:"OPEN_SIDEBAR"})},closeSidebar:function(){return e({type:"CLOSE_SIDEBAR"})},startLogout:function(){return e((function(e){return f.a.auth().signOut()}))},syncingStart:function(){return e({type:"SYNCING_START"})},syncSuccess:function(){return e({type:"SYNC_SUCCESS"})},syncFail:function(){return e({type:"SYNC_FAIL"})}}}))((function(e){var t=Object(c.useState)(null),n=Object(s.a)(t,2),i=n[0],r=n[1],l=Boolean(i),o=l?"simple-popper":void 0,u=Object(c.useRef)(null);function d(e){l&&(console.log(e),r(null))}function b(){e.setFilterText(""),e.setFilterColor("")}var j=Object(a.jsx)(D.a,{title:"synced",children:Object(a.jsx)("button",{className:Xe.a.Cloud,children:Object(a.jsx)(tt.a,{})})});return"syncing"===e.syncStatus?j=Object(a.jsx)(D.a,{title:"synced",children:Object(a.jsx)("button",{className:Xe.a.Cloud,children:Object(a.jsx)("div",{class:Xe.a.Loader})})}):"failed"===e.syncStatus&&(j=Object(a.jsx)(D.a,{title:"Failed to sync. Click here to try again.",children:Object(a.jsx)("button",{className:Xe.a.Cloud+" "+Xe.a.Red,onClick:function(){var t="/users/"+e.uid;e.syncingStart(),f.a.database().ref(t).set(e.main).then((function(){console.log("success"),e.syncSuccess()})).catch((function(){e.syncFail()}))},children:Object(a.jsx)(st.a,{})})})),Object(a.jsxs)("header",{className:Xe.a.header,children:[Object(a.jsx)("span",{className:Xe.a.HamburgerMenu,onClick:function(t){e.sidebarOpen?e.closeSidebar():(t.stopPropagation(),e.openSidebar())},ref:u,children:Object(a.jsx)(lt.a,{fontSize:"inherit"})}),Object(a.jsx)("span",{className:Xe.a.Keeper,children:Object(a.jsx)(le.a,{to:"/notes",exact:"true",onClick:b,children:Object(a.jsxs)("h1",{children:[Object(a.jsx)("i",{className:"far fa-lightbulb"})," ",Object(a.jsx)("span",{children:"Keeper"})]})})}),Object(a.jsxs)("div",{className:Xe.a.Search,children:[Object(a.jsx)("div",{className:Xe.a.SearchButton,children:Object(a.jsx)(F,{tooltipTitle:"Search",children:Object(a.jsx)(Qe.a,{})})}),Object(a.jsx)("input",{type:"text",placeholder:"Search"+(""===e.color?"":" within "+e.color),value:e.text,onChange:function(t){e.setFilterText(t.target.value)}}),Object(a.jsxs)("div",{className:Xe.a.RightButtons,children:[Object(a.jsx)("div",{className:Xe.a.PaletteButton+" "+(""===e.color?"":ut(e.color)),children:Object(a.jsx)(F,{tooltipTitle:"Filter by color",onClick:function(e){e.stopPropagation(),r((function(t){return t?null:e.currentTarget}))},children:Object(a.jsx)(it.a,{})})}),Object(a.jsx)(q.a,{onClickAway:d,touchEvent:!1,children:Object(a.jsx)(ee.a,{id:o,open:l,anchorEl:i,disablePortal:!0,children:Object(a.jsx)(he,{changeColorHandler:function(t){e.setFilterColor(t),d()}})})}),Object(a.jsx)("div",{className:Xe.a.ClearButton,children:Object(a.jsx)(F,{tooltipTitle:"Clear Search and Color Filter",onClick:b,children:Object(a.jsx)($e.a,{})})})]})]}),Object(a.jsxs)("div",{className:Xe.a.LogoutButton,children:[j,Object(a.jsx)("button",{onClick:e.startLogout,className:Xe.a.Logout,children:"Logout"})]})]})})),bt=n(76),jt=n.n(bt),ht=n(120),Ot=n.n(ht);var ft=Object(h.b)(null,(function(e){return{setFilterText:function(t){return e(nt(t))},setFilterColor:function(t){return e(at(t))}}}))((function(e){return Object(a.jsx)("li",{className:Ot.a.NavigationItem,children:Object(a.jsxs)(le.b,{activeClassName:Ot.a.active,to:e.path,exact:!0,onClick:function(){e.setFilterText(""),e.setFilterColor("")},children:[Object(a.jsx)("span",{className:"material-icons-outlined",style:{verticalAlign:"middle",display:"inline-block",width:"30px"},children:e.iconName})," ",Object(a.jsx)("span",{style:{verticalAlign:"middle",display:"inline-block",paddingBottom:"3px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",width:"80%"},children:e.title})]})})})),pt=n(162),xt=n.n(pt);var _t=function(e){return Object(a.jsx)("li",{className:xt.a.NavigationItem,onClick:e.openEditLabels,children:Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"material-icons-outlined",style:{verticalAlign:"middle",display:"inline-block",width:"30px"},children:"edit"})," ",Object(a.jsx)("span",{style:{verticalAlign:"middle",display:"inline-block",paddingBottom:"2px"},children:"Edit Labels"})]})})};var vt=Object(h.b)((function(e){return{labels:e.main.labels,sidebarOpen:e.ui.sidebarOpenMobile}}),(function(e){return{closeSidebar:function(){return e({type:"CLOSE_SIDEBAR"})}}}))((function(e){return Object(a.jsx)(q.a,{onClickAway:function(){e.sidebarOpen&&e.closeSidebar()},touchEvent:!1,children:Object(a.jsx)("div",{className:jt.a.SideBar+" "+(e.sidebarOpen?jt.a.Open:jt.a.Close),children:Object(a.jsx)("nav",{children:Object(a.jsxs)("ul",{className:jt.a.NavigationItems,children:[Object(a.jsx)(ft,{path:"/notes",iconName:"note",title:"Notes"}),e.labels.map((function(e){return Object(a.jsx)(ft,{path:"/label/"+e,iconName:"label",title:e},e)})),Object(a.jsx)(_t,{openEditLabels:e.openEditLabels}),Object(a.jsx)(ft,{path:"/archive",iconName:"archive",title:"Archive"}),Object(a.jsx)(ft,{path:"/trash",iconName:"delete",title:"Trash"})]})})})})}));var mt=function(e){var t={width:"100%",height:"100%",position:"fixed",zIndex:"100",left:"0",top:"0",backgroundColor:"rgba(0, 0, 0, 0.5)"};return e.transparent&&(t.backgroundColor="rgba(0, 0, 0, 0)"),e.show?Object(a.jsx)("div",{style:t,onClick:e.onClick}):null};var Nt=Object(h.b)((function(e){return{notes:e.main.notes,archive:e.main.archive,text:e.filters.filterText,color:e.filters.filterColor,labels:e.main.labels}}),(function(e){return{addNote:function(t){return e(C(t))},deleteNote:function(t){return e(g(t))},editNote:function(t,n){return e(k(t,n))},archiveNote:function(t){return e(y(t))},editAndArchive:function(t,n){return e(L(t,n))},editAndUnarchive:function(t,n){return e(A(t,n))}}}))((function(e){var t=Object(c.useState)(null),n=Object(s.a)(t,2),i=n[0],r=n[1],l=Object(c.useState)(!1),o=Object(s.a)(l,2),u=o[0],d=o[1],b=Object(c.useState)(null),j=Object(s.a)(b,2),h=j[0],O=j[1],f=Object(c.useRef)(null);function p(t){r(t),d(!0);var n=e.notes.findIndex((function(e){return e.id===t}));n>-1?O(e.notes[n]):(n=e.archive.findIndex((function(e){return e.id===t})),O(e.archive[n]))}function x(){d(!1),r(null),O(null)}var _=e.match.path,v="/"===_?"":_.slice(7,_.length),m=e.text,N=e.color,C=We(e.notes,v,m,N),g=C.filter((function(e){return e.pinned})),k=C.filter((function(e){return!e.pinned})),y=[];""!==v&&(y=We(e.archive,v,m,N));var E="/notes"===_?Object(a.jsxs)("div",{className:ze.a.Empty,children:[Object(a.jsx)("span",{className:"material-icons-outlined "+ze.a.Icon,style:{verticalAlign:"middle"},children:"note"}),Object(a.jsx)("p",{className:ze.a.Note,children:"Notes you add appear here"})]}):Object(a.jsxs)("div",{className:ze.a.Empty,children:[Object(a.jsx)("span",{className:"material-icons "+ze.a.Icon,style:{verticalAlign:"middle"},children:"label_outline"}),Object(a.jsx)("p",{className:ze.a.Note,children:"No notes with this label yet"})]});return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:ze.a.NotesPage,children:[Object(a.jsx)(dt,{}),Object(a.jsx)(vt,{openEditLabels:e.openEditLabels}),Object(a.jsx)(xe,{filterLabel:v}),u?Object(a.jsx)(Ee,{editAndUnarchive:e.editAndUnarchive,editAndArchive:e.editAndArchive,archive:e.archive,ref:f,note:h,editNote:e.editNote,closeEdit:x}):null,Object(a.jsx)(mt,{show:u,onClick:function(){f.current(),x()},transparent:!1}),0===C.length&&0===y.length&&""===e.text&&""===e.color?E:null,g.length>0?Object(a.jsxs)("div",{className:ze.a.Notes,children:[""===e.text&&""===e.color?null:Object(a.jsx)("h3",{className:ze.a.SearchResult,children:"Search Results:"}),Object(a.jsx)("h5",{children:"PINNED"}),Object(a.jsx)(Ue.a,{children:g.map((function(t){return Object(a.jsx)(Ke,{archived:!1,editable:!0,type:t.type,editedId:i,editing:u,note:t,deleteNote:e.deleteNote,deleteTooltip:"Delete Note",showEditButton:!0,onClick:p},t.id)}))})]}):null,Object(a.jsxs)("div",{className:ze.a.Notes+(g.length>0?" "+ze.a.NotesWhenPinned:""),children:[""===e.text&&""===e.color||0!==g.length?null:Object(a.jsx)("h3",{className:ze.a.SearchResult,children:"Search Results:"}),g.length>0&&k.length>0?Object(a.jsx)("h5",{children:"OTHERS"}):null,Object(a.jsx)(Ue.a,{children:k.map((function(t){return Object(a.jsx)(Ke,{archived:!1,editable:!0,type:t.type,editedId:i,editing:u,note:t,deleteNote:e.deleteNote,deleteTooltip:"Delete Note",showEditButton:!0,onClick:p},t.id)}))})]}),Object(a.jsxs)("div",{className:ze.a.Notes+(y.length>0?" "+ze.a.NotesWhenPinned:""),children:[y.length>0?Object(a.jsx)("h5",{children:"ARCHIVE"}):null,Object(a.jsx)(Ue.a,{children:y.map((function(t){return Object(a.jsx)(Ke,{archived:!0,editable:!0,type:t.type,editedId:i,editing:u,note:t,deleteNote:e.deleteNote,deleteTooltip:"Delete Note",showEditButton:!0,onClick:p},t.id)}))})]})]})})})),Ct=n(37),gt=n.n(Ct);var kt=Object(h.b)((function(e){return{trash:e.main.trash,notes:e.main.notes,text:e.filters.filterText,color:e.filters.filterColor}}),(function(e){return{deleteNotePermanently:function(t){return e((n=t,function(e,t){e(function(e){return{type:"DELETE_PERMANENTLY",id:e}}(n)),N(e,t,x,_,v,f.a)}));var n},restoreNote:function(t){return e((n=t,function(e,t){e(function(e){return{type:"RESTORE",id:e}}(n)),N(e,t,x,_,v,f.a)}));var n},emptyTrash:function(){return e((function(e,t){e({type:"EMPTY_TRASH"}),N(e,t,x,_,v,f.a)}))}}}))((function(e){var t=We(e.trash,"",e.text,e.color),n=""===e.text&&""===e.color?Object(a.jsxs)("div",{className:gt.a.Empty,children:[Object(a.jsx)("span",{className:"material-icons "+gt.a.Icon,style:{verticalAlign:"middle"},children:"delete_outline"}),Object(a.jsx)("p",{className:gt.a.Note,children:"No notes in Trash"})]}):Object(a.jsx)("h3",{className:gt.a.SearchResult,children:"Search Results:"}),c=""===e.text&&""===e.color?Object(a.jsx)("button",{style:{marginTop:"110px"},className:gt.a.Button,type:"button",onClick:e.emptyTrash,children:"Click here to empty trash"}):Object(a.jsx)("h3",{className:gt.a.SearchResult,children:"Search Results:"}),i=0===e.trash.length?n:c;return Object(a.jsxs)("div",{className:gt.a.NotePage,children:[Object(a.jsx)(dt,{}),Object(a.jsx)(vt,{openEditLabels:e.openEditLabels}),Object(a.jsxs)("div",{className:gt.a.Notes,children:[i,Object(a.jsx)(Ue.a,{children:t.map((function(t,n){return Object(a.jsx)(Ke,{archived:!1,editable:!1,type:t.type,note:t,index:n,deleteNote:e.deleteNotePermanently,deleteTooltip:"Delete Permanently",showEditButton:!1,restoreNote:e.restoreNote},t.id)}))})]})]})})),yt=n(53),Et=n.n(yt);var Lt=Object(h.b)((function(e){return{archive:e.main.archive,text:e.filters.filterText,color:e.filters.filterColor}}),(function(e){return{editNote:function(t,n){return e(k(t,n))},deleteNote:function(t){return e(g(t))},editAndArchive:function(t,n){return e(L(t,n))},editAndUnarchive:function(t,n){return e(A(t,n))}}}))((function(e){var t=Object(c.useState)(null),n=Object(s.a)(t,2),i=n[0],r=n[1],l=Object(c.useState)(!1),o=Object(s.a)(l,2),u=o[0],d=o[1],b=Object(c.useRef)(null),j=e.archive.findIndex((function(e){return e.id===i})),h=We(e.archive,"",e.text,e.color);function O(e){r(e),d(!0)}function f(){d(!1),r(null)}var p=Object(a.jsxs)("div",{className:Et.a.Empty,children:[Object(a.jsx)("span",{className:"material-icons-outlined "+Et.a.Icon,style:{verticalAlign:"middle"},children:"archive"}),Object(a.jsx)("p",{className:Et.a.Note,children:"Your archived notes appear here"})]});return Object(a.jsxs)("div",{className:Et.a.NotesPage,children:[Object(a.jsx)(dt,{}),Object(a.jsx)(vt,{openEditLabels:e.openEditLabels}),u?Object(a.jsx)(Ee,{editAndArchive:e.editAndArchive,editAndUnarchive:e.editAndUnarchive,archive:e.archive,ref:b,note:e.archive[j],editNote:e.editNote,closeEdit:f}):null,Object(a.jsx)(mt,{show:u,onClick:function(){b.current(),f()},transparent:!1}),0===e.archive.length&&""===e.text&&""===e.color?p:null,Object(a.jsxs)("div",{className:Et.a.Notes,children:[""===e.text&&""===e.color?null:Object(a.jsx)("h3",{className:Et.a.SearchResult,children:"Search Results:"}),Object(a.jsx)(Ue.a,{children:h.map((function(t){return Object(a.jsx)(Ke,{archived:!0,editable:!0,type:t.type,editedId:i,editing:u,note:t,deleteNote:e.deleteNote,deleteTooltip:"Delete Note",showEditButton:!0,onClick:O},t.id)}))})]})]})}));var At=function(){return Object(a.jsxs)("div",{style:{marginLeft:"285px"},children:[Object(a.jsx)("h1",{children:"404 Not Found"}),Object(a.jsx)(le.a,{to:"/notes",children:"Go home"})]})},It=n(97),wt=n.n(It),Tt=Object(h.b)(void 0,(function(e){return{startLogin:function(){return e((function(e){return f.a.auth().signInWithPopup(p).catch((function(){}))}))}}}))((function(e){return Object(a.jsx)("div",{className:wt.a.Screen,children:Object(a.jsxs)("div",{className:wt.a.Form,children:[Object(a.jsxs)("h1",{children:[Object(a.jsx)("i",{className:"far fa-lightbulb"})," ",Object(a.jsx)("span",{children:"Keeper"})]}),Object(a.jsx)("div",{children:Object(a.jsx)("p",{children:"Keep your notes organized."})}),Object(a.jsx)("div",{className:wt.a.ButtonArea,children:Object(a.jsx)("button",{onClick:e.startLogin,children:"Login with Google"})})]})})})),St=n(54),Pt=n.n(St),Bt=n(77),Rt=n.n(Bt),Ht=n(334),Dt=n(333),Ft=n(332),qt=n(339);var Kt=Object(h.b)((function(e){return{labels:e.main.labels,filterLabel:e.filters.filterLabel}}),(function(e){return{editLabel:function(t,n){return e(function(e,t){return function(n,a){n(function(e,t){return{type:"EDIT_LABEL",oldLabel:e,newLabel:t}}(e,t)),N(n,a,x,_,v,f.a)}}(t,n))},deleteLabelCompletely:function(t){return e(function(e){return function(t,n){t(function(e){return{type:"DELETE_LABEL_COMPLETELY",label:e}}(e)),N(t,n,x,_,v,f.a)}}(t))}}}))((function(e){var t=Object(c.useState)(e.label),n=Object(s.a)(t,2),i=n[0],r=n[1],l=Object(c.useState)(!1),o=Object(s.a)(l,2),d=o[0],b=o[1],j=Object(c.useRef)(null),h=Object(u.g)(),O=Object(u.f)();function f(){b(!1)}return Object(a.jsxs)("div",{className:Rt.a.InputArea,children:[Object(a.jsx)(F,{tooltipTitle:"Delete this label",onClick:function(){b(!0)},children:Object(a.jsx)(He.a,{})}),Object(a.jsx)("input",{ref:j,type:"text",className:Rt.a.Input,onKeyPress:function(t){"Enter"===t.key&&(e.labels.includes(i)?r(e.label):(e.editLabel(e.label,i),"/label/"+e.label===h.pathname&&O.push("/label/"+i),j.current.blur()))},style:{display:"inline-block",paddingLeft:"0"},value:i,onChange:function(e){r(e.target.value)},name:"label name",placeholder:"Edit label name..."}),Object(a.jsx)(F,{tooltipTitle:"Edit",onClick:function(){e.labels.includes(i)?(r(e.label),j.current.focus()):(e.editLabel(e.label,i),"/label/"+e.label===h.pathname&&O.push("/label/"+i))},children:Object(a.jsx)(Se.a,{})}),Object(a.jsxs)(Ht.a,{open:d,onClose:f,"aria-labelledby":"form-dialog-title",maxWidth:"xs",children:[Object(a.jsx)(Ft.a,{children:Object(a.jsx)(qt.a,{children:"We\u2019ll delete this label and remove it from all of your notes. Your notes won\u2019t be deleted"})}),Object(a.jsxs)(Dt.a,{children:[Object(a.jsx)("div",{className:Rt.a.Button,children:Object(a.jsx)(F,{onClick:f,tooltipTitle:"Cancel",children:"Cancel"})}),Object(a.jsx)("div",{className:Rt.a.Button,children:Object(a.jsx)(F,{onClick:function(){"/label/"+e.label===h.pathname&&O.push("/notes"),e.deleteLabelCompletely(e.label)},tooltipTitle:"Delete",children:"Delete"})})]})]})]})}));var Mt=Object(h.b)((function(e){return{labels:e.main.labels}}),(function(e){return{addNewLabel:function(t){return e(I(t))}}}))((function(e){var t=Object(c.useState)(""),n=Object(s.a)(t,2),i=n[0],r=n[1],l=Object(c.useRef)(null);return Object(c.useEffect)((function(){l.current.focus()}),[]),Object(a.jsxs)("div",{className:Pt.a.Form,children:[Object(a.jsx)("div",{className:Pt.a.InputArea,children:Object(a.jsx)("p",{stye:{marginLeft:"20px",padding:"10px"},children:"Edit Labels"})}),Object(a.jsxs)("div",{className:Pt.a.InputArea,children:[Object(a.jsx)("input",{ref:l,onKeyPress:function(t){"Enter"===t.key&&(e.addNewLabel(i),r(""))},className:Pt.a.Input,autoComplete:"off",name:"label",placeholder:"Add label...",value:i,onChange:function(e){r(e.target.value)},maxLength:"40"})," ",Object(a.jsx)(F,{tooltipTitle:"Create new label",onClick:function(){e.addNewLabel(i),r(""),l.current.focus()},children:Object(a.jsx)(B.a,{})})]}),Object(a.jsx)("ul",{children:e.labels.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)("div",{className:Pt.a.InputArea,children:Object(a.jsx)(Kt,{label:e})})},e)}))}),Object(a.jsx)("div",{className:Pt.a.DoneButton,children:Object(a.jsx)(F,{tooltipTitle:"Close",onClick:e.closeEditLabels,children:"Close"})})]})})),Ut=n(121),Yt=n.n(Ut),zt=function(){return Object(a.jsx)("div",{className:Yt.a.Screen,children:Object(a.jsx)("div",{className:Yt.a.loader})})},Gt=b()({basename:"/keeper"});var Wt=Object(h.b)((function(e){return{labels:e.main.labels,loggingIn:e.auth.loggingIn}}))((function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),r=n[0],l=n[1];function d(){l(!0)}function b(){l(!1)}var j=Object(a.jsxs)(u.c,{children:[Object(a.jsx)(u.a,{path:"/",exact:!0,render:function(e){return Object(a.jsx)(Tt,{})}}),Object(a.jsx)(u.a,{path:"/notes",exact:!0,render:function(e){return Object(a.jsx)(Nt,Object(o.a)(Object(o.a)({},e),{},{openEditLabels:d}))}}),Object(a.jsx)(u.a,{path:"/archive",exact:!0,render:function(e){return Object(a.jsx)(Lt,Object(o.a)(Object(o.a)({},e),{},{openEditLabels:d}))}}),Object(a.jsx)(u.a,{path:"/trash",exact:!0,render:function(e){return Object(a.jsx)(kt,Object(o.a)(Object(o.a)({},e),{},{openEditLabels:d}))}}),e.labels.map((function(e){return Object(a.jsx)(u.a,{path:"/label/"+e,exact:!0,render:function(e){return Object(a.jsx)(Nt,Object(o.a)(Object(o.a)({},e),{},{openEditLabels:d}))}},e)})),Object(a.jsx)(u.a,{component:At})]});return Object(a.jsx)(u.b,{history:Gt,children:e.loggingIn?Object(a.jsx)(zt,{}):Object(a.jsxs)(i.a.Fragment,{children:[r?Object(a.jsx)(Mt,{closeEditLabels:b}):null,Object(a.jsx)(mt,{show:r,onClick:b,transparent:!1}),j]})})})),Vt=n(61),Xt=n(164),Jt={notes:[],labels:[],trash:[],archive:[]},Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MAIN_STATE":return t.state;case"ADD":return Object(o.a)(Object(o.a)({},e),{},{notes:[t.note].concat(Object(j.a)(e.notes))});case"ARCHIVE_DIRECTLY":var n=Object(o.a)(Object(o.a)({},t.note),{},{pinned:!1});return Object(o.a)(Object(o.a)({},e),{},{archive:[n].concat(Object(j.a)(e.archive))});case"EDIT":var a=Object(j.a)(e.notes),c=Object(j.a)(e.archive),i=e.notes.findIndex((function(e){return e.id===t.id}));return i>-1?a[i]=t.note:(i=e.archive.findIndex((function(e){return e.id===t.id})),t.note.pinned?(c.splice(i,1),a.unshift(t.note)):c[i]=t.note),Object(o.a)(Object(o.a)({},e),{},{notes:a,archive:c});case"ARCHIVE":var r=e.notes.findIndex((function(e){return e.id===t.note.id})),l=e.notes.filter((function(e){return e.id!==t.note.id})),s=Object(o.a)(Object(o.a)({},e.notes[r]),{},{pinned:!1});return Object(o.a)(Object(o.a)({},e),{},{notes:l,archive:[s].concat(Object(j.a)(e.archive))});case"UNARCHIVE":var u=e.archive.findIndex((function(e){return e.id===t.note.id})),d=e.archive.filter((function(e){return e.id!==t.note.id}));return Object(o.a)(Object(o.a)({},e),{},{archive:d,notes:[e.archive[u]].concat(Object(j.a)(e.notes))});case"DELETE":var b=e.notes.findIndex((function(e){return e.id===t.id})),h=Object(j.a)(e.notes),O=Object(j.a)(e.trash),f=Object(j.a)(e.archive);if(b>-1){h=e.notes.filter((function(e){return e.id!==t.id}));var p=Object(o.a)(Object(o.a)({},e.notes[b]),{},{pinned:!1});O=[p].concat(Object(j.a)(e.trash))}else{var x=e.archive.findIndex((function(e){return e.id===t.id}));f=e.archive.filter((function(e){return e.id!==t.id})),O=[e.archive[x]].concat(Object(j.a)(e.trash))}return Object(o.a)(Object(o.a)({},e),{},{notes:h,trash:O,archive:f});case"RESTORE":var _=e.trash.findIndex((function(e){return e.id===t.id})),v=e.trash.filter((function(e,t){return t!==_}));return Object(o.a)(Object(o.a)({},e),{},{notes:[].concat(Object(j.a)(e.notes),[e.trash[_]]),trash:v});case"DELETE_PERMANENTLY":var m=e.trash.findIndex((function(e){return e.id===t.id})),N=e.trash.filter((function(e,t){return t!==m}));return Object(o.a)(Object(o.a)({},e),{},{trash:N});case"EMPTY_TRASH":return Object(o.a)(Object(o.a)({},e),{},{trash:[]});case"ADD_NEW_LABEL":var C=e.labels.includes(t.label)||""===t.label?Object(j.a)(e.labels):[t.label].concat(Object(j.a)(e.labels));return Object(o.a)(Object(o.a)({},e),{},{labels:C});case"EDIT_LABEL":if(!t.newLabel)return e;var g=e.labels.indexOf(t.oldLabel),k=Object(j.a)(e.labels);k[g]=t.newLabel;var y=e.notes.map((function(e){var n=e.labels.map((function(e){return e===t.oldLabel?t.newLabel:e}));return Object(o.a)(Object(o.a)({},e),{},{labels:n})})),E=e.trash.map((function(e){var n=e.labels.map((function(e){return e===t.oldLabel?t.newLabel:e}));return Object(o.a)(Object(o.a)({},e),{},{labels:n})})),L=e.archive.map((function(e){var n=e.labels.map((function(e){return e===t.oldLabel?t.newLabel:e}));return Object(o.a)(Object(o.a)({},e),{},{labels:n})}));return{labels:k,notes:y,trash:E,archive:L};case"DELETE_LABEL_COMPLETELY":var A=e.labels.filter((function(e){return e!==t.label})),I=e.notes.map((function(e){var n=e.labels.filter((function(e){return e!==t.label}));return Object(o.a)(Object(o.a)({},e),{},{labels:n})})),w=e.trash.map((function(e){var n=e.labels.filter((function(e){return e!==t.label}));return Object(o.a)(Object(o.a)({},e),{},{labels:n})})),T=e.archive.map((function(e){var n=e.labels.filter((function(e){return e!==t.label}));return Object(o.a)(Object(o.a)({},e),{},{labels:n})}));return{labels:A,notes:I,trash:w,archive:T};case"ADD_LIST":return Object(o.a)(Object(o.a)({},e),{},{notes:[t.list].concat(Object(j.a)(e.notes))});case"EDIT_AND_ARCHIVE":var S=e.notes.filter((function(e){return e.id!==t.oldNote.id})),P=Object(o.a)(Object(o.a)({},t.newNote),{},{pinned:!1}),B=[P].concat(Object(j.a)(e.archive));return Object(o.a)(Object(o.a)({},e),{},{notes:S,archive:B});case"EDIT_AND_UNARCHIVE":var R=e.archive.filter((function(e){return e.id!==t.oldNote.id})),H=[t.newNote].concat(Object(j.a)(e.notes));return Object(o.a)(Object(o.a)({},e),{},{notes:H,archive:R});default:return e}},Zt=function(e){try{var t=localStorage.getItem(e);return null===t?null:JSON.parse(t)}catch(n){return null}}("filters"),$t=null!==Zt?Zt:{filterColor:"",filterText:""},en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER_TEXT":return Object(o.a)(Object(o.a)({},e),{},{filterText:t.filterText});case"SET_FILTER_COLOR":return Object(o.a)(Object(o.a)({},e),{},{filterColor:t.filterColor});default:return e}},tn={sidebarOpenMobile:!1,syncStatus:"synced"},nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_SIDEBAR":return Object(o.a)(Object(o.a)({},e),{},{sidebarOpenMobile:!0});case"CLOSE_SIDEBAR":return Object(o.a)(Object(o.a)({},e),{},{sidebarOpenMobile:!1});case"SYNCING_START":return Object(o.a)(Object(o.a)({},e),{},{syncStatus:"syncing"});case"SYNC_SUCCESS":return Object(o.a)(Object(o.a)({},e),{},{syncStatus:"synced"});case"SYNC_FAIL":return Object(o.a)(Object(o.a)({},e),{},{syncStatus:"failed"});default:return e}},an=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loggingIn:!1,uid:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return{loggingIn:!0,uid:t.uid};case"LOGOUT":return Object(o.a)(Object(o.a)({},e),{},{uid:null});case"SET_LOGGING_IN":return Object(o.a)(Object(o.a)({},e),{},{loggingIn:t.truth});default:return e}},cn=function(){return Object(Vt.d)(Object(Vt.c)({main:Qt,filters:en,ui:nn,auth:an}),Object(Vt.a)(Xt.a))}(),rn=!1,ln=function(){rn||(l.a.render(Object(a.jsx)(h.a,{store:cn,children:Object(a.jsx)(Wt,{})}),document.getElementById("root")),rn=!0)};l.a.render(Object(a.jsx)(zt,{}),document.getElementById("root")),f.a.auth().onAuthStateChanged((function(e){if(e){cn.dispatch({type:"LOGIN",uid:e.uid});var t="/users/"+e.uid;f.a.database().ref(t).once("value").then((function(e){var t=function(e){var t=m(e,"notes"),n=m(e,"trash"),a=m(e,"archive"),c=[];return e&&void 0!==e.labels&&(c=Object.values(e.labels)),{notes:t,trash:n,archive:a,labels:c}}(e.val());cn.dispatch(function(e){return{type:"SET_MAIN_STATE",state:e}}(t)),ln(),"/"===Gt.location.pathname&&Gt.push("/notes"),cn.dispatch({type:"SET_LOGGING_IN",truth:!1})}))}else cn.dispatch({type:"LOGOUT"}),ln(),Gt.push("/")}))},32:function(e,t,n){e.exports={Frame:"ColorPopper_Frame__3Cn81",Button:"ColorPopper_Button__OKYMU",white:"ColorPopper_white__2wRst",red:"ColorPopper_red__io595",orange:"ColorPopper_orange__2I-hf",yellow:"ColorPopper_yellow__CEE--",green:"ColorPopper_green__3R19K",turquoise:"ColorPopper_turquoise__mzQI0",blue:"ColorPopper_blue__IpjDh",darkblue:"ColorPopper_darkblue__bWOWE",purple:"ColorPopper_purple__3OiiW",pink:"ColorPopper_pink__19GCe"}},37:function(e,t,n){e.exports={NotesPage:"TrashPage_NotesPage__3xqGo",Notes:"TrashPage_Notes__f-m4H",Empty:"TrashPage_Empty__VwZV5",Icon:"TrashPage_Icon__3wBV3",Note:"TrashPage_Note__1d3S7",Button:"TrashPage_Button__juA3P",SearchResult:"TrashPage_SearchResult__2-wIE"}},53:function(e,t,n){e.exports={NotesPage:"ArchivePage_NotesPage__2DkZp",Notes:"ArchivePage_Notes__2KgiM",NotesWhenPinned:"ArchivePage_NotesWhenPinned__1g_E2",Empty:"ArchivePage_Empty__Osefq",SearchResult:"ArchivePage_SearchResult__3Yk1f",Icon:"ArchivePage_Icon__2HEtw",Note:"ArchivePage_Note__3hkUa"}},54:function(e,t,n){e.exports={Form:"EditLabels_Form__wvewR",InputArea:"EditLabels_InputArea__36FtZ",Item:"EditLabels_Item__DFr53",Buttons:"EditLabels_Buttons__1e28F",DoneButton:"EditLabels_DoneButton__12quP"}},75:function(e,t,n){e.exports={Checkbox:"ListItem_Checkbox__1bNEb",NotEditable:"ListItem_NotEditable__38Wcs",Editable:"ListItem_Editable__3WrDg"}},76:function(e,t,n){e.exports={SideBar:"SideBar_SideBar__3Iz00",NavigationItems:"SideBar_NavigationItems__14vzp",Open:"SideBar_Open__2IKo7",Close:"SideBar_Close__2dS8V"}},77:function(e,t,n){e.exports={Input:"EditLabel_Input__3mZtk",InputArea:"EditLabel_InputArea__3dYs-",Button:"EditLabel_Button__gsqi2"}},95:function(e,t,n){e.exports={List:"AddLabels_List__2kPbx",Input:"AddLabels_Input__t4eqC",InputArea:"AddLabels_InputArea__UbBXK",Checkbox:"AddLabels_Checkbox__1CFK9"}},97:function(e,t,n){e.exports={Screen:"LoginPage_Screen__2UsYO",Form:"LoginPage_Form__3d3O-",ButtonArea:"LoginPage_ButtonArea__3wJ8s"}}},[[305,1,2]]]);
//# sourceMappingURL=main.fac190f1.chunk.js.map